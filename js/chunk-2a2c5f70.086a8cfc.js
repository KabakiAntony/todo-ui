(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a2c5f70"],{2375:function(e,t,n){"use strict";var o=n("7a23"),r={class:"spinner",id:"show-spinner"},s=Object(o["h"])("div",{class:"bounce1"},null,-1),a=Object(o["h"])("div",{class:"bounce2"},null,-1),c=Object(o["h"])("div",{class:"bounce3"},null,-1),d=[s,a,c];function i(e,t,n,s,a,c){return Object(o["u"])(),Object(o["g"])("div",r,d)}var u={name:"Spinner"},l=n("6b0d"),b=n.n(l);const p=b()(u,[["render",i]]);t["a"]=p},"27a8":function(e,t,n){"use strict";var o=n("7a23");function r(e,t,n,r,s,a){return Object(o["u"])(),Object(o["g"])("div",{class:Object(o["q"])(n.type),id:"showAlert"},Object(o["D"])(n.message),3)}var s={name:"ShowAlert",props:{type:String,message:String}},a=n("6b0d"),c=n.n(a);const d=c()(s,[["render",r]]);t["a"]=d},7277:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=function(e){return Object(o["x"])("data-v-25284692"),e=e(),Object(o["v"])(),e},s={class:"page"},a=r((function(){return Object(o["h"])("h1",null,"List things you want to achieve today or cross them off your list",-1)})),c={key:0},d={key:1},i={class:"loading-message"};function u(e,t,n,r,u,l){var b=Object(o["B"])("Spinner"),p=Object(o["B"])("ShowAlert"),f=Object(o["B"])("AddTodo"),m=Object(o["B"])("TodoList");return Object(o["u"])(),Object(o["g"])("div",s,[Object(o["j"])(b),Object(o["j"])(o["b"],{name:"toast"},{default:Object(o["I"])((function(){return[u.show?(Object(o["u"])(),Object(o["e"])(p,{key:0,class:Object(o["q"])(u.type),message:u.message},null,8,["class","message"])):Object(o["f"])("",!0)]})),_:1}),a,Object(o["j"])(f,Object(o["o"])({onOnSubmit:l.addTodo},u.addTodoProps,{action:u.action}),null,16,["onOnSubmit","action"]),u.todos.length?(Object(o["u"])(),Object(o["g"])("div",c,[Object(o["j"])(m,{todos:u.todos,onOnUpdate:l.updateTodo,onOnDelete:l.deleteTodo},null,8,["todos","onOnUpdate","onOnDelete"])])):(Object(o["u"])(),Object(o["g"])("div",d,[Object(o["h"])("p",i,Object(o["D"])(u.loading_message),1)]))])}var l=n("1da1"),b=(n("96cf"),n("d3b7"),n("e9c4"),n("99af"),{class:"add-todo"});function p(e,t,n,r,s,a){return Object(o["u"])(),Object(o["g"])("div",b,[Object(o["h"])("form",{onSubmit:t[1]||(t[1]=Object(o["K"])((function(t){return e.$emit("on-submit",s.form)}),["prevent"]))},[Object(o["J"])(Object(o["h"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.form.text=e}),"data-test":"new-todo",required:""},null,512),[[o["F"],s.form.text]]),Object(o["h"])("button",{type:"submit",class:Object(o["q"])(["add-todo-submit",n.action])},Object(o["D"])(n.submit_text),3)],32)])}var f={name:"AddTodo",props:{action:String,submit_text:String},data:function(){return{form:{text:""}}}},m=n("6b0d"),h=n.n(m);const j=h()(f,[["render",p]]);var O=j,g={class:"action-buttons"},T=["onClick"],v=["onClick"];function x(e,t,n,r,s,a){return Object(o["u"])(),Object(o["g"])("div",null,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(n.todos,(function(t){return Object(o["u"])(),Object(o["g"])("div",{class:"todo-list",key:t.id},[Object(o["h"])("li",{class:Object(o["q"])([t.completed?"li-completed":"li-open","todo-list-li"]),"data-test":"todo"},Object(o["D"])(t.text),3),Object(o["h"])("div",g,[Object(o["h"])("button",{"data-test":"complete-button",class:Object(o["q"])(["complete",t.completed?"completed":"open"]),onClick:function(n){return e.$emit("on-update",t.id,t),a.toggleTodo(t)}},Object(o["D"])(t.completed?"":"Complete"),11,T),Object(o["h"])("button",{"data-test":"delete-button",class:"delete",onClick:function(n){return e.$emit("on-delete",t.id)}},"Delete",8,v)])])})),128))])}var y={name:"TodoList",props:{todos:Array},methods:{toggleTodo:function(e){e.compeleted=!e.compeleted}}};const w=h()(y,[["render",x]]);var k=w,S=n("2375"),$=n("27a8"),_=n("ed08"),A={name:"Dashboard",components:{ShowAlert:$["a"],AddTodo:O,TodoList:k,Spinner:S["a"]},data:function(){return{type:null,message:null,show:!1,todos:[],action:null,loading_message:"getting your todos ....",addTodoProps:{submit_text:"Add Todo"}}},methods:{loadSpinner:_["a"],unloadSpinner:_["c"],unloadToast:_["d"],loadToast:_["b"],addTodo:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var o,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.action="submitting",t.addTodoProps.submit_text="",t.loadSpinner(),o="".concat(t.$api,"todos"),n.next=6,fetch(o,{method:"POST",headers:{"Content-Type":"application/json",auth_token:t.$store.getters.AuthToken},body:JSON.stringify(e)});case 6:return r=n.sent,n.next=9,r.json();case 9:if(s=n.sent,201!==s.status){n.next=18;break}return t.unloadSpinner(),n.next=14,t.$store.dispatch("getTodos");case 14:t.todos=t.$store.getters.Todos,e.text="",n.next=21;break;case 18:t.unloadSpinner(),t.loadToast(s.error,"error"),t.unloadToast();case 21:t.action="",t.addTodoProps.submit_text="Add Todo";case 23:case"end":return n.stop()}}),n)})))()},deleteTodo:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var o,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!confirm("Are you sure you want to delete ?")){n.next=20;break}return t.loadSpinner(),o="".concat(t.$api,"todos/").concat(e),n.next=5,fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json",auth_token:t.$store.getters.AuthToken}});case 5:return r=n.sent,n.next=8,r.json();case 8:if(s=n.sent,200!==s.status){n.next=17;break}return t.unloadSpinner(),n.next=13,t.$store.dispatch("getTodos");case 13:t.todos=t.$store.getters.Todos,0==t.todos.length&&(t.loading_message="We found no todos for you, please add some."),n.next=20;break;case 17:t.unloadSpinner(),t.loadToast(s.error,"error"),t.unloadToast();case 20:case"end":return n.stop()}}),n)})))()},updateTodo:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function o(){var r,s,a,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r={completed:!t.completed,id:t.id,text:t.text,user_id:t.user_id},n.loadSpinner(),s="".concat(n.$api,"todos/").concat(e),o.next=5,fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",auth_token:n.$store.getters.AuthToken},body:JSON.stringify(r)});case 5:return a=o.sent,o.next=8,a.json();case 8:if(c=o.sent,200!==c.status){o.next=16;break}return n.unloadSpinner(),o.next=13,n.$store.dispatch("getTodos");case 13:n.todos=n.$store.getters.Todos,o.next=19;break;case 16:n.unloadSpinner(),n.loadToast(c.error,"error"),n.unloadToast();case 19:case"end":return o.stop()}}),o)})))()}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getTodos");case 2:e.todos=e.$store.getters.Todos,0==e.todos.length&&(e.loading_message="We found no todos for you, please add some.");case 4:case"end":return t.stop()}}),t)})))()}};n("d3cc");const D=h()(A,[["render",u],["__scopeId","data-v-25284692"]]);t["default"]=D},"99af":function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),s=n("d039"),a=n("e8b5"),c=n("861d"),d=n("7b0b"),i=n("07fa"),u=n("8418"),l=n("65f0"),b=n("1dde"),p=n("b622"),f=n("2d00"),m=p("isConcatSpreadable"),h=9007199254740991,j="Maximum allowed index exceeded",O=r.TypeError,g=f>=51||!s((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),T=b("concat"),v=function(e){if(!c(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)},x=!g||!T;o({target:"Array",proto:!0,forced:x},{concat:function(e){var t,n,o,r,s,a=d(this),c=l(a,0),b=0;for(t=-1,o=arguments.length;t<o;t++)if(s=-1===t?a:arguments[t],v(s)){if(r=i(s),b+r>h)throw O(j);for(n=0;n<r;n++,b++)n in s&&u(c,b,s[n])}else{if(b>=h)throw O(j);u(c,b++,s)}return c.length=b,c}})},d3cc:function(e,t,n){"use strict";n("e8b3")},e8b3:function(e,t,n){},ed08:function(e,t,n){"use strict";function o(){document.getElementById("show-spinner").style.display=" block"}function r(){document.getElementById("show-spinner").style.display=" none"}function s(){var e=this;setTimeout((function(){e.type=null,e.message=null}),6e3)}function a(e,t){this.show=!0,this.message=e,this.type=t}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a}))}}]);
//# sourceMappingURL=chunk-2a2c5f70.086a8cfc.js.map